(()=>{var e={};e.id=891,e.ids=[891],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1066:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(7096),a=s(6132),o=s(7284),n=s.n(o),i=s(2564),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["tasks",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5616)),"c:\\Users\\HAROON TRADERS\\OneDrive\\Desktop\\hackthon 2\\frontend\\app\\tasks\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2102)),"c:\\Users\\HAROON TRADERS\\OneDrive\\Desktop\\hackthon 2\\frontend\\app\\tasks\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"c:\\Users\\HAROON TRADERS\\OneDrive\\Desktop\\hackthon 2\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["c:\\Users\\HAROON TRADERS\\OneDrive\\Desktop\\hackthon 2\\frontend\\app\\tasks\\[id]\\edit\\page.tsx"],u="/tasks/[id]/edit/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tasks/[id]/edit/page",pathname:"/tasks/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},752:()=>{},9472:(e,t,s)=>{Promise.resolve().then(s.bind(s,8984))},7995:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3579,23)),Promise.resolve().then(s.t.bind(s,619,23)),Promise.resolve().then(s.t.bind(s,1459,23)),Promise.resolve().then(s.t.bind(s,3456,23)),Promise.resolve().then(s.t.bind(s,847,23)),Promise.resolve().then(s.t.bind(s,7303,23))},5303:()=>{},8984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(3854),a=s(1018),o=s(6713);function n(){let e=(0,a.useParams)(),t=parseInt(e.id);return r.jsx(o.default,{taskId:t})}},6713:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(3854),a=s(4218),o=s(1018);function n({taskId:e,initialData:t}){let[s,n]=(0,a.useState)(t?.title||""),[i,l]=(0,a.useState)(t?.description||""),[d,c]=(0,a.useState)(t?.due_date||""),[u,m]=(0,a.useState)(t?.priority||"medium"),[p,x]=(0,a.useState)(t?.category||""),[h,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),y=(0,o.useRouter)();(0,a.useEffect)(()=>{e&&v()},[e]);let v=async()=>{f(!0);try{console.log("Fetching task data for ID:",e);let t=await fetch(`/api/tasks/${e}`);if(console.log("Fetch task response status:",t.status),t.ok){let e=await t.json();console.log("Fetched task data:",e),n(e.title||""),l(e.description||""),c(e.due_date?e.due_date.split("T")[0]:""),m(e.priority||"medium"),x(e.category||"")}else console.error("Failed to load task data, status:",t.status),g("Failed to load task data")}catch(e){console.error("Error loading task data:",e),g("Error loading task data")}finally{f(!1)}},k=async t=>{t.preventDefault();try{let t;console.log("Submitting task form, taskId:",e);let r={title:s,description:i||null,due_date:d||null,priority:u,category:p||null,recurrence_pattern:null};if(console.log("Task data to submit:",r),t=e?await fetch(`/api/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}):await fetch("/api/tasks/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),console.log("Submit response status:",t.status),t.ok)console.log("Task saved successfully"),y.push("/tasks"),y.refresh();else{let e=await t.json();console.error("Failed to save task:",e),g(e.detail||"Failed to save task")}}catch(e){console.error("Error saving task:",e),g("Error saving task")}};return b?r.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsx("div",{className:"text-center",children:"Loading task data..."})}):(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:e?"Edit Task":"Create New Task"}),(0,r.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[h&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:r.jsx("span",{className:"block sm:inline",children:h})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),r.jsx("input",{type:"text",id:"title",value:s,onChange:e=>n(e.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{id:"description",value:i,onChange:e=>l(e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date"}),r.jsx("input",{type:"date",id:"dueDate",value:d,onChange:e=>c(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,r.jsxs)("select",{id:"priority",value:u,onChange:e=>m(e.target.value),className:"mt-1 block w-full bg-white border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),r.jsx("input",{type:"text",id:"category",value:p,onChange:e=>x(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("a",{href:"/tasks",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md",children:e?"Update Task":"Create Task"})]})]})]})}},3854:(e,t,s)=>{"use strict";e.exports=s(2337).vendored["react-ssr"].ReactJsxRuntime},1018:(e,t,s)=>{"use strict";e.exports=s(7804)},5345:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>n});var r=s(4656),a=s(2999),o=s.n(a);s(7272);let n={title:"AI-Powered Todo App",description:"A smart todo application"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:o().className,children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("main",{children:e}),r.jsx("footer",{className:"bg-white mt-8",children:r.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("p",{className:"text-center text-gray-500 text-sm",children:["\xa9 ",new Date().getFullYear()," AI-Powered Todo App. All rights reserved."]})})})]})})})}},5616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>o,default:()=>l});var r=s(5153);let a=(0,r.createProxy)(String.raw`c:\Users\HAROON TRADERS\OneDrive\Desktop\hackthon 2\frontend\app\tasks\[id]\edit\page.tsx`),{__esModule:o,$$typeof:n}=a,i=a.default,l=i},2102:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(4656);function a({children:e}){return r.jsx(r.Fragment,{children:e})}},7272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[271,404],()=>s(1066));module.exports=r})();